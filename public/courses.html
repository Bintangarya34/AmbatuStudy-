<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AmbatuStudy - Latihan Interaktif</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        /* Gaya Spesifik Latihan */
        /* Kontainer Utama */
        .main-content {
            display: flex;
            justify-content: center;
            padding: 50px 20px;
            min-height: 80vh;
        }

        .card-container {
            width: 100%;
            max-width: 800px;
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            padding: 30px;
        }

        /* Halaman Pilih Materi (Frame 73) */
        #materi-selection h2 {
            text-align: center;
            font-size: 30px;
            margin-bottom: 5px;
        }

        #materi-selection p {
            text-align: center;
            color: #777;
            margin-bottom: 40px;
        }

        .materi-grid {
            display: flex;
            gap: 40px;
            justify-content: center;
        }

        .materi-card {
            background-color: #ffffff;
            border: 1px solid #f0f0f0;
            border-radius: 10px;
            padding: 30px;
            width: 300px;
            text-align: center;
            cursor: pointer;
            transition: box-shadow 0.2s, border-color 0.2s;
        }

        .materi-card:hover {
            box-shadow: 0 5px 15px rgba(var(--primary-blue), 0.2);
            border-color: var(--cta-blue);
        }

        .materi-icon {
            font-size: 60px;
            color: var(--cta-blue);
            background-color: #e6f7ff;
            border-radius: 50%;
            padding: 15px;
            margin-bottom: 15px;
        }

        .materi-card h3 {
            font-size: 22px;
            margin-bottom: 5px;
        }

        .materi-card p {
            font-size: 14px;
            color: #999;
            margin-bottom: 20px;
        }

        .materi-info span {
            display: inline-block;
            margin: 0 10px;
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 12px;
            color: #555;
        }

        /* Halaman Kuis dan Hasil (Frame 74-77) */
        #quiz-section {
            display: none; /* Disembunyikan secara default */
            padding: 0 20px;
        }

        #quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #f0f0f0;
            border-radius: 4px;
            margin-bottom: 30px;
        }

        .progress-bar-fill {
            height: 100%;
            width: 0%;
            background-color: var(--cta-blue);
            border-radius: 4px;
            transition: width 0.3s;
        }

        #question-text {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 30px;
        }

        .option-item {
            display: flex;
            align-items: center;
            background-color: #f7f7f7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            cursor: pointer;
            border: 1px solid #f7f7f7;
            transition: background-color 0.15s, border-color 0.15s;
        }

        .option-item:hover {
            background-color: #eeeeee;
        }

        .option-item.correct {
            background-color: #e6ffe6; /* Hijau terang */
            border-color: #4CAF50; /* Hijau */
        }

        .option-item.incorrect {
            background-color: #ffe6e6; /* Merah terang */
            border-color: #F44336; /* Merah */
        }

        .option-letter {
            width: 30px;
            height: 30px;
            background-color: #e0e0e0;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: 600;
            margin-right: 15px;
        }

        .option-item.correct .option-letter {
            background-color: #4CAF50;
            color: #ffffff;
        }

        .option-item.incorrect .option-letter {
            background-color: #F44336;
            color: #ffffff;
        }
        
        .status-icon {
            margin-left: auto;
            font-size: 24px;
        }

        .option-item.correct .status-icon {
            color: #4CAF50;
        }

        .option-item.incorrect .status-icon {
            color: #F44336;
        }

        /* Halaman Hasil (Frame 77) */
        #result-section {
            display: none; /* Disembunyikan secara default */
            text-align: center;
        }

        .result-icon {
            font-size: 80px;
            color: var(--cta-blue);
            margin-bottom: 20px;
        }

        #result-section h2 {
            font-size: 36px;
            margin-bottom: 10px;
        }

        #result-score {
            font-size: 60px;
            font-weight: 700;
            color: var(--cta-blue);
            margin: 20px 0;
        }

        #result-bar-container {
            width: 50%;
            margin: 0 auto 30px auto;
        }

        .result-message {
            background-color: #f0f8ff;
            border: 1px solid #cceeff;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            color: #555;
            font-size: 14px;
        }

        .result-actions button {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin: 0 10px;
        }

        #repeat-quiz-btn {
            background-color: var(--cta-blue);
            color: white;
        }

        #home-btn {
            background-color: #f0f0f0;
            color: #555;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">
            <span class="material-icons logo-icon">school</span>
            <div class="logo-text">
                <span class="site-name">Ambatustudy</span> 
                <span class="tagline">Belajar Matematika Lebih Mudah</span>
            </div>
        </div>

        <div class="nav-right-side">
            <ul class="nav-links">
                <li><a href="home.html" >Home</a></li> 
                <li><a href="materi.html">Materi</a></li>
                <li><a href="notes.html">Catatan</a></li>
                <li><a href="courses.html" class="active-link">Latihan</a></li>
                <li><a href="Videos.html">Video</a></li>
            </ul>

            <a href="index.html" class="logout-button">
                <span class="material-icons">logout</span>
                Log Out
            </a>
        </div>
    </nav>

    <div class="main-content">
        <div class="card-container">

            <div id="materi-selection">
                <h2>Pilih Materi</h2>
                <p>Pilih kategori materi yang ingin Anda pelajari</p>
                
                <div class="materi-grid">
                    <div class="materi-card" data-materi="aljabar">
                        <span class="material-icons materi-icon">book</span>
                        <h3>Aljabar Linear</h3>
                        <p>Vektor, matriks, determinan, dan sistem persamaan liner</p>
                        <div class="materi-info">
                            <span>10 Soal</span>
                            <span>Pemula - Menengah</span>
                        </div>
                    </div>
                    
                    <div class="materi-card" data-materi="kalkulus">
                        <span class="material-icons materi-icon">book</span>
                        <h3>Kalkulus 1</h3>
                        <p>Limit, turunan, integral, dan aplikasi kalkulus dasar</p>
                        <div class="materi-info">
                            <span>10 Soal</span>
                            <span>Pemula - Menengah</span>
                        </div>
                    </div>
                </div>
            </div>

            <div id="quiz-section">
                <div id="quiz-header">
                    <span id="question-count">Pertanyaan 1 dari 10</span>
                    <span id="score-display" class="material-icons">emoji_events 0</span>
                </div>
                
                <div class="progress-bar"><div class="progress-bar-fill" id="progress-fill"></div></div>

                <div id="question-area">
                    <p id="question-text">Hasil dari 2x + 3x = ?</p>
                    
                    <div id="options-container">
                        </div>
                </div>
            </div>

            <div id="result-section">
                <span class="material-icons result-icon">emoji_events</span>
                <h2>Quiz selesai!</h2>
                <p>Sealamat, Anda telah menyelesaikan quiz</p>
                
                <div id="result-score">5/10</div>
                <div id="result-bar-container">
                    <div class="progress-bar" style="height: 12px;"><div class="progress-bar-fill" id="final-progress-fill"></div></div>
                </div>
                
                <div class="result-message">
                    <p><strong>Keep Practicing!</strong></p>
                    <p>Jangan Menyerah! Coba pelajari materi lebih dalam dan ulangi quiz.</p>
                </div>
                
                <div class="result-actions">
                    <button id="repeat-quiz-btn" class="cta-button">Ulangi Quiz</button>
                    <button id="home-btn" onclick="window.location.href='home.html'">Kembali ke Home</button>
                </div>
            </div>

        </div>
    </div>
    
    <div class="ai-button-placeholder">AI</div>

    <script>
        // Data Kuis (Dapat ditambahkan lebih banyak di sini)
        const quizData = {
            aljabar: [
                {
                    question: "Hasil dari 2x + 3x = ?",
                    options: ["3x", "5x", "6x", "7x"],
                    answer: "5x"
                },
                {
                    question: "Jika 4y - 7 = 13, berapakah nilai y?",
                    options: ["3", "5", "6", "10"],
                    answer: "5"
                },
                {
                    question: "Hasil dari (a+b) * (a-b) adalah?",
                    options: ["a² + b²", "2ab", "a² - b²", "a² - 2ab + b²"],
                    answer: "a² - b²"
                },
                // Tambahkan 7 soal lagi untuk melengkapi 10 soal...
            ],
            kalkulus: [
                {
                    question: "Turunan pertama dari f(x) = x² adalah?",
                    options: ["x", "2x", "x²", "1"],
                    answer: "2x"
                },
                // Tambahkan 9 soal lagi...
            ]
        };

        // Variabel Status Kuis
        let currentMateri = null;
        let currentQuiz = [];
        let currentQuestionIndex = 0;
        let score = 0;
        let isAnswerLocked = false;

        // Elemen DOM
        const materiSelection = document.getElementById('materi-selection');
        const quizSection = document.getElementById('quiz-section');
        const resultSection = document.getElementById('result-section');

        const questionCount = document.getElementById('question-count');
        const scoreDisplay = document.getElementById('score-display');
        const progressFill = document.getElementById('progress-fill');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');

        const resultScore = document.getElementById('result-score');
        const finalProgressFill = document.getElementById('final-progress-fill');
        const repeatQuizBtn = document.getElementById('repeat-quiz-btn');

        // --- Fungsi Utama ---

        function initQuiz(materi) {
            currentMateri = materi;
            currentQuiz = quizData[materi];
            currentQuestionIndex = 0;
            score = 0;

            // Transisi tampilan
            materiSelection.style.display = 'none';
            resultSection.style.display = 'none';
            quizSection.style.display = 'block';
            
            loadQuestion();
        }

        function loadQuestion() {
            if (currentQuestionIndex >= currentQuiz.length) {
                showResult();
                return;
            }

            const question = currentQuiz[currentQuestionIndex];
            isAnswerLocked = false;
            
            // Perbarui Header dan Progress Bar
            questionCount.textContent = `Pertanyaan ${currentQuestionIndex + 1} dari ${currentQuiz.length}`;
            scoreDisplay.innerHTML = `<span class="material-icons">emoji_events</span> ${score}`;
            progressFill.style.width = `${((currentQuestionIndex) / currentQuiz.length) * 100}%`;

            questionText.textContent = question.question;
            optionsContainer.innerHTML = '';

            // Tampilkan Pilihan Jawaban
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option-item');
                optionElement.setAttribute('data-answer', option);
                optionElement.innerHTML = `
                    <span class="option-letter">${String.fromCharCode(65 + index)}</span>
                    <span class="option-text">${option}</span>
                    <span class="status-icon material-icons" style="display:none;"></span>
                `;
                optionElement.addEventListener('click', handleAnswerClick);
                optionsContainer.appendChild(optionElement);
            });
        }

        function handleAnswerClick(event) {
            if (isAnswerLocked) return;
            isAnswerLocked = true;

            const selectedOption = event.currentTarget;
            const selectedAnswer = selectedOption.getAttribute('data-answer');
            const correctAnswer = currentQuiz[currentQuestionIndex].answer;

            // Cek Jawaban
            if (selectedAnswer === correctAnswer) {
                score++;
                selectedOption.classList.add('correct');
                selectedOption.querySelector('.status-icon').textContent = 'check_circle';
                // Update skor langsung
                scoreDisplay.innerHTML = `<span class="material-icons">emoji_events</span> ${score}`;
            } else {
                selectedOption.classList.add('incorrect');
                selectedOption.querySelector('.status-icon').textContent = 'cancel';
                
                // Tunjukkan jawaban yang benar
                document.querySelectorAll('.option-item').forEach(item => {
                    if (item.getAttribute('data-answer') === correctAnswer) {
                        item.classList.add('correct');
                        item.querySelector('.status-icon').textContent = 'check_circle';
                    }
                });
            }
            
            selectedOption.querySelector('.status-icon').style.display = 'inline';
            
            // Lanjut ke pertanyaan berikutnya setelah jeda singkat
            setTimeout(() => {
                currentQuestionIndex++;
                loadQuestion();
            }, 1500); // Jeda 1.5 detik
        }

        function showResult() {
            quizSection.style.display = 'none';
            resultSection.style.display = 'block';

            const totalQuestions = currentQuiz.length;
            const percentage = (score / totalQuestions) * 100;

            resultScore.textContent = `${score}/${totalQuestions}`;
            
            // Perbarui progress bar hasil akhir
            finalProgressFill.style.width = `${percentage}%`;
        }

        function resetQuiz() {
            // Kembali ke halaman Pilih Materi
            resultSection.style.display = 'none';
            materiSelection.style.display = 'block';
        }

        // --- Event Listeners ---

        // Inisialisasi Kuis ketika kartu materi diklik
        document.querySelectorAll('.materi-card').forEach(card => {
            card.addEventListener('click', (e) => {
                const materi = e.currentTarget.getAttribute('data-materi');
                initQuiz(materi);
            });
        });

        // Event Listener untuk tombol Ulangi Quiz
        repeatQuizBtn.addEventListener('click', () => {
             // Cukup panggil initQuiz lagi dengan materi yang sama
             initQuiz(currentMateri);
        });

        // Inisialisasi tampilan awal
        resetQuiz();
    </script>
</body>
</html>